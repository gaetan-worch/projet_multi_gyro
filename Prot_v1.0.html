<!DOCTYPE html>
<script src=" https://cdn.jsdelivr.net/npm/chart.js@4.3.0/dist/chart.umd.min.js "></script>
<html lang="fr">
    <head>
        <meta charset="utf-8">
        <title>Gyroscope n°Prototype</title>
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
        <script>
            $(document).ready(function() {
            const filename = "measure.csv";
            // Fonction pour lire les données CSV et créer le graphique
            function creerGraphique() {
                $.ajax({
                url: filename,
                dataType: "text",
                success: function(data) {
                    var lignes = data.split(/\r?\n|\r/);
                    var labels = [];
                    var valeurs1 = [];
                    var valeurs2 = [];

                    // Ignorer la première ligne (en-tête)
                    for (var i = 1; i < lignes.length; i++) {
                    var donnees = lignes[i].split(",");
                    labels.push(donnees[0]);
                    valeurs1.push(parseFloat(donnees[1]));
                    valeurs2.push(parseFloat(donnees[2]));
                    }

                    var ctx = document.getElementById("graphique").getContext("2d");
                    var chart = new Chart(ctx, {
                    type: "line",
                    data: {
                        labels: labels,
                        datasets: [{
                        label: "Courbe 1",
                        data: valeurs1,
                        fill: false,
                        borderColor: "rgba(75, 192, 192, 1)",
                        borderWidth: 2,
                        pointRadius : 0
                        },
                        {
                        label: "Courbe 2",
                        data: valeurs2,
                        fill: false,
                        borderColor: "rgba(192, 75, 75, 1)",
                        borderWidth: 2,
                        pointRadius : 0
                        }]
                    },
                    options: {
                        responsive: true,
                        scales: {
                        y: {
                            beginAtZero: true
                        }
                        }
                    }
                    });
                }
                });
            }

            creerGraphique();
            });
        </script>
    </head>

    <body>
        <canvas id = "graphique"></canvas>
    </body>
</html>